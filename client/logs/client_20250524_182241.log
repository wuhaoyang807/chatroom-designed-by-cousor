2025-05-24 18:22:41,323 [DEBUG] 服务器地址 54.252.240.58 解析成功
2025-05-24 18:22:41,533 [DEBUG] 成功连接到服务器 54.252.240.58:12345
2025-05-24 18:22:41,534 [DEBUG] 服务器地址 54.252.240.58 解析成功
2025-05-24 18:22:41,734 [DEBUG] 成功连接到服务器 54.252.240.58:12345
2025-05-24 18:22:50,318 [DEBUG] 初始化主窗口: 用户=why
2025-05-24 18:22:50,318 [DEBUG] 创建客户端线程
2025-05-24 18:22:50,318 [DEBUG] 客户端线程初始化
2025-05-24 18:22:50,318 [DEBUG] 找到可用UDP端口: 40956
2025-05-24 18:22:50,319 [DEBUG] 客户端线程开始运行
2025-05-24 18:22:50,319 [DEBUG] Opus编解码器初始化成功
2025-05-24 18:22:50,329 [DEBUG] Opus编解码器初始化: 采样率=48000, 通道数=1
2025-05-24 18:22:50,329 [DEBUG] Opus编解码器创建成功
2025-05-24 18:22:50,329 [DEBUG] UDP音频线程绑定到端口: 40956
2025-05-24 18:22:50,329 [DEBUG] UDP音频线程已启动，端口: 40956
2025-05-24 18:22:50,329 [DEBUG] 发送UDP端口更新消息: UDP_PORT_UPDATE|why|40956
2025-05-24 18:22:50,330 [DEBUG] UDP音频接收线程开始运行，端口: 40956
2025-05-24 18:22:50,330 [DEBUG] UDP音频服务初始化完成，端口: 40956
2025-05-24 18:22:50,347 [DEBUG] 初始化UI
2025-05-24 18:22:50,351 [DEBUG] 初始刷新好友和群组列表
2025-05-24 18:22:50,351 [DEBUG] 主窗口初始化完成，用户: why, UDP端口: 40956
2025-05-24 18:22:50,780 [DEBUG] 处理收到的消息: FRIEND_LIST|
2025-05-24 18:22:52,491 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:online|gty:offline
2025-05-24 18:22:56,384 [DEBUG] 处理收到的消息: PRIVATE_HISTORY|why_1|1|why_1|[EMOJI]smart.png|why_1|[EMOJI]gif4.gif|why_1|[EMOJI]gif4.gif|why_1|[EMOJI]smart.png|why_1|[EMOJI]facepalm.png|why_1|[EMOJI]gif4.gif|why|1|why_1|[EMOJI]smirk.png|why|1|why_1|2|why_1|[EMOJI]smirk.png|why_1|[EMOJI]gif4.gif|why_1|[EMOJI]gif4.gif|why|[EMOJI]smart.png|why|[EMOJI]image_emoticon6.png|why|[EMOJI]image_emoticon6.png|why|[EMOJI]gif4.gif|why_1|[EMOJI]image_emoticon19.png|why|[EMOJI]gif4.gif|why_1|[EMOJI]image_emoticon31.png|why_1|诶呀|why_1|弄得差不多了|why|但是文件还不能下载，语音也打不通|why_1|[EMOJI]image_emoticon19.png|why_1|1|why|[EMOJI]gif2.gif|why|1|why_1|1|why|2
2025-05-24 18:22:56,599 [DEBUG] 处理收到的消息: FILE_LIST|
2025-05-24 18:22:58,235 [DEBUG] 尝试发起语音通话
2025-05-24 18:22:58,235 [DEBUG] 发起语音通话请求：why -> why_1
2025-05-24 18:22:58,235 [DEBUG] 准备发送通话请求: CALL_REQUEST|why|why_1|40956
2025-05-24 18:22:58,235 [DEBUG] 已发送CALL_REQUEST消息，本地UDP端口: 40956
2025-05-24 18:22:59,981 [DEBUG] 处理收到的消息: CALL_RESPONSE|SENDING|why_1
2025-05-24 18:22:59,981 [DEBUG] 服务器确认正在向 why_1 发送通话请求
2025-05-24 18:23:00,194 [DEBUG] 已创建通话对话框(主叫方)
2025-05-24 18:23:02,778 [DEBUG] 处理收到的消息: CALL_ACCEPTED|why_1|210.30.192.180|40073
2025-05-24 18:23:02,778 [DEBUG] 收到CALL_ACCEPTED: from=why_1, ip=210.30.192.180, port=40073
2025-05-24 18:23:02,778 [DEBUG] 当前通话状态: in_call=True, call_target=why_1
2025-05-24 18:23:02,778 [DEBUG] 设置通话目标地址: ('210.30.192.180', 40073)
2025-05-24 18:23:02,778 [DEBUG] 已更新通话窗口的目标地址为: ('210.30.192.180', 40073)
2025-05-24 18:23:02,779 [DEBUG] 开始通话准备工作: is_caller=True, target_addr=('210.30.192.180', 40073)
2025-05-24 18:23:02,779 [DEBUG] 准备开始通话: is_caller=True, target_addr=('210.30.192.180', 40073)
2025-05-24 18:23:02,779 [DEBUG] 发送UDP测试数据包到 ('210.30.192.180', 40073) (尝试 1/3)
2025-05-24 18:23:05,779 [WARNING] UDP测试响应超时 (尝试 1/3)
2025-05-24 18:23:06,280 [DEBUG] 发送UDP测试数据包到 ('210.30.192.180', 40073) (尝试 2/3)
2025-05-24 18:23:09,280 [WARNING] UDP测试响应超时 (尝试 2/3)
2025-05-24 18:23:09,781 [DEBUG] 发送UDP测试数据包到 ('210.30.192.180', 40073) (尝试 3/3)
2025-05-24 18:23:12,781 [WARNING] UDP测试响应超时 (尝试 3/3)
2025-05-24 18:23:13,281 [WARNING] UDP连接测试失败，但将继续尝试建立通话
2025-05-24 18:23:13,315 [DEBUG] 处理收到的消息: CALL_ACCEPTED|why_1|210.30.192.180|40073
2025-05-24 18:23:13,315 [DEBUG] 收到CALL_ACCEPTED: from=why_1, ip=210.30.192.180, port=40073
2025-05-24 18:23:13,316 [DEBUG] 当前通话状态: in_call=True, call_target=why_1
2025-05-24 18:23:13,316 [DEBUG] 设置通话目标地址: ('210.30.192.180', 40073)
2025-05-24 18:23:13,316 [DEBUG] 已更新通话窗口的目标地址为: ('210.30.192.180', 40073)
2025-05-24 18:23:13,316 [DEBUG] 通话已经处于活动状态，忽略再次启动请求
2025-05-24 18:23:13,316 [DEBUG] 已启动通话并更新状态
2025-05-24 18:23:13,329 [DEBUG] 处理收到的消息: CALL_ACCEPTED|why_1|210.30.192.180|40073
2025-05-24 18:23:13,329 [DEBUG] 收到CALL_ACCEPTED: from=why_1, ip=210.30.192.180, port=40073
2025-05-24 18:23:13,329 [DEBUG] 当前通话状态: in_call=True, call_target=why_1
2025-05-24 18:23:13,330 [DEBUG] 设置通话目标地址: ('210.30.192.180', 40073)
2025-05-24 18:23:13,330 [DEBUG] 已更新通话窗口的目标地址为: ('210.30.192.180', 40073)
2025-05-24 18:23:13,330 [DEBUG] 通话已经处于活动状态，忽略再次启动请求
2025-05-24 18:23:13,330 [DEBUG] 已启动通话并更新状态
2025-05-24 18:24:36,278 [DEBUG] 使用输出设备: 扬声器 (Realtek(R) Audio)
2025-05-24 18:24:36,278 [DEBUG] 初始化音频播放器: output_device_index=3
2025-05-24 18:24:36,278 [DEBUG] 音频播放器启动成功
2025-05-24 18:24:36,278 [DEBUG] 初始化音频录制器: input_device_index=1
2025-05-24 18:24:36,278 [DEBUG] 音频录制器启动成功
2025-05-24 18:24:36,350 [DEBUG] 使用输出设备: 扬声器 (Realtek(R) Audio)
2025-05-24 18:24:36,351 [DEBUG] 设备信息: {'index': 3, 'structVersion': 2, 'name': '扬声器 (Realtek(R) Audio)', 'hostApi': 0, 'maxInputChannels': 0, 'maxOutputChannels': 2, 'defaultLowInputLatency': 0.09, 'defaultLowOutputLatency': 0.09, 'defaultHighInputLatency': 0.18, 'defaultHighOutputLatency': 0.18, 'defaultSampleRate': 44100.0}
2025-05-24 18:24:36,364 [DEBUG] 开始音频播放...
2025-05-24 18:24:36,419 [DEBUG] 开始录音...
2025-05-24 18:24:36,445 [DEBUG] Opus编码成功: 原始大小=1920字节, 编码后=44字节, 压缩比=43.64
2025-05-24 18:24:37,021 [DEBUG] 已启动通话并更新状态
2025-05-24 18:24:37,423 [DEBUG] 音频队列持续为空 100 次
2025-05-24 18:24:37,424 [DEBUG] 录制到音频数据: 包 #50, 1920 字节
2025-05-24 18:24:37,425 [DEBUG] 发送UDP音频数据: 包 #50, 原始=1920字节, 发送=83字节, 到: ('210.30.192.180', 40073), 头部: why|why_1
2025-05-24 18:24:38,424 [DEBUG] 录制到音频数据: 包 #100, 1920 字节
2025-05-24 18:24:38,424 [DEBUG] 发送UDP音频数据: 包 #100, 原始=1920字节, 发送=136字节, 到: ('210.30.192.180', 40073), 头部: why|why_1
2025-05-24 18:24:38,444 [DEBUG] Opus编码成功: 原始大小=1920字节, 编码后=104字节, 压缩比=18.46
2025-05-24 18:24:38,486 [DEBUG] 音频队列持续为空 200 次
