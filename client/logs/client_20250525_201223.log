2025-05-25 20:12:23,220 [DEBUG] 服务器地址 54.252.240.58 解析成功
2025-05-25 20:12:23,469 [DEBUG] 成功连接到服务器 54.252.240.58:12345
2025-05-25 20:12:23,470 [DEBUG] 服务器地址 54.252.240.58 解析成功
2025-05-25 20:12:23,712 [DEBUG] 成功连接到服务器 54.252.240.58:12345
2025-05-25 20:12:29,408 [DEBUG] 初始化主窗口: 用户=why
2025-05-25 20:12:29,409 [DEBUG] 创建客户端线程
2025-05-25 20:12:29,409 [DEBUG] 客户端线程初始化
2025-05-25 20:12:29,410 [DEBUG] 开始初始化UDP音频服务
2025-05-25 20:12:29,410 [DEBUG] 分配随机UDP端口: 60495
2025-05-25 20:12:29,410 [DEBUG] 客户端线程开始运行
2025-05-25 20:12:29,410 [DEBUG] 尝试绑定UDP端口: 60495
2025-05-25 20:12:29,421 [DEBUG] UDP端口绑定成功: 60495
2025-05-25 20:12:29,421 [DEBUG] 创建UDP音频线程，端口: 60495
2025-05-25 20:12:29,422 [DEBUG] UDP音频线程绑定到端口: 60495
2025-05-25 20:12:29,422 [DEBUG] UDP音频线程启动成功
2025-05-25 20:12:29,422 [DEBUG] 发送UDP端口更新消息: UDP_PORT_UPDATE|why|60495
2025-05-25 20:12:29,422 [DEBUG] UDP音频服务初始化完成，端口: 60495
2025-05-25 20:12:29,439 [DEBUG] 初始化UI
2025-05-25 20:12:29,443 [DEBUG] 初始刷新好友和群组列表
2025-05-25 20:12:29,443 [DEBUG] 主窗口初始化完成，用户: why, UDP端口: 60495
2025-05-25 20:12:29,951 [DEBUG] 处理收到的消息: FRIEND_LIST|
2025-05-25 20:12:30,511 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:31,259 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:31,646 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:31,889 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:32,133 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:32,376 [DEBUG] 处理收到的消息: FRIEND_LIST|
2025-05-25 20:12:32,655 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:32,901 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:33,317 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:33,565 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:33,810 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:34,057 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:34,546 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:36,062 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:36,805 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:37,608 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:38,509 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:39,283 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:40,530 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:45,663 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:51,901 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:12:57,399 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:13:00,133 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 20:13:01,215 [DEBUG] 处理收到的消息: FRIEND_ONLINE|why_1
2025-05-25 20:13:03,157 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:online|gty:offline
2025-05-25 20:13:03,911 [DEBUG] 处理收到的消息: PRIVATE_HISTORY|why_1|1|why_1|[EMOJI]smart.png|why_1|[EMOJI]gif4.gif|why_1|[EMOJI]gif4.gif|why_1|[EMOJI]smart.png|why_1|[EMOJI]facepalm.png|why_1|[EMOJI]gif4.gif|why|1|why_1|[EMOJI]smirk.png|why|1|why_1|2|why_1|[EMOJI]smirk.png|why_1|[EMOJI]gif4.gif|why_1|[EMOJI]gif4.gif|why|[EMOJI]smart.png|why|[EMOJI]image_emoticon6.png|why|[EMOJI]image_emoticon6.png|why|[EMOJI]gif4.gif|why_1|[EMOJI]image_emoticon19.png|why|[EMOJI]gif4.gif|why_1|[EMOJI]image_emoticon31.png|why_1|诶呀|why_1|弄得差不多了|why|但是文件还不能下载，语音也打不通|why_1|[EMOJI]image_emoticon19.png|why_1|1|why|[EMOJI]gif2.gif|why|1|why|2|why|[EMOJI]image_emoticon19.png|why|[EMOJI]image_emoticon19.png
2025-05-25 20:13:04,155 [DEBUG] 处理收到的消息: FILE_LIST|main.py|client_20250516_225953.log|facepalm.png|cxk.png
2025-05-25 20:13:09,614 [DEBUG] 尝试发起语音通话
2025-05-25 20:13:09,615 [DEBUG] 发起语音通话请求：why -> why_1
2025-05-25 20:13:09,615 [DEBUG] 准备发送通话请求: CALL_REQUEST|why|why_1|60495
2025-05-25 20:13:09,615 [DEBUG] 已发送CALL_REQUEST消息，本地UDP端口: 60495
2025-05-25 20:13:11,360 [DEBUG] 处理收到的消息: CALL_RESPONSE|SENDING|why_1
2025-05-25 20:13:11,361 [DEBUG] 服务器确认正在向 why_1 发送通话请求
2025-05-25 20:13:13,945 [DEBUG] 处理收到的消息: CALL_ACCEPTED|why_1|210.30.192.180|63288
2025-05-25 20:13:13,946 [DEBUG] 收到CALL_ACCEPTED: from=why_1, ip=210.30.192.180, port=63288
2025-05-25 20:13:13,946 [DEBUG] 当前通话状态: in_call=True, call_target=why_1
2025-05-25 20:13:13,946 [DEBUG] 收到对方UDP地址: ('210.30.192.180', 63288)
2025-05-25 20:13:13,947 [DEBUG] 为被叫方创建通话对话框
2025-05-25 20:13:13,947 [DEBUG] 创建接收方通话对话框，目标地址: ('210.30.192.180', 63288)
2025-05-25 20:13:14,763 [DEBUG] 用户选择的音频设备: {'input': 0, 'output': 3}
2025-05-25 20:13:14,765 [DEBUG] 开始通话: is_caller=False, target_addr=('210.30.192.180', 63288)
2025-05-25 20:13:14,765 [DEBUG] 初始化音频播放器: output_device_index=3
2025-05-25 20:13:14,766 [DEBUG] 音频播放器已启动
2025-05-25 20:13:14,766 [DEBUG] 初始化音频录制器: input_device_index=0
2025-05-25 20:13:14,766 [DEBUG] 使用输出设备: Microsoft 声音映射器 - Output
2025-05-25 20:13:14,766 [DEBUG] 音频录制器已启动
2025-05-25 20:13:14,766 [DEBUG] 使用输入设备: Microsoft 声音映射器 - Input
2025-05-25 20:13:14,766 [DEBUG] 设备信息: {'index': 3, 'structVersion': 2, 'name': 'Microsoft 声音映射器 - Output', 'hostApi': 0, 'maxInputChannels': 0, 'maxOutputChannels': 2, 'defaultLowInputLatency': 0.09, 'defaultLowOutputLatency': 0.09, 'defaultHighInputLatency': 0.18, 'defaultHighOutputLatency': 0.18, 'defaultSampleRate': 44100.0}
2025-05-25 20:13:14,780 [DEBUG] 设备信息: {'index': 0, 'structVersion': 2, 'name': 'Microsoft 声音映射器 - Input', 'hostApi': 0, 'maxInputChannels': 2, 'maxOutputChannels': 0, 'defaultLowInputLatency': 0.09, 'defaultLowOutputLatency': 0.09, 'defaultHighInputLatency': 0.18, 'defaultHighOutputLatency': 0.18, 'defaultSampleRate': 44100.0}
2025-05-25 20:13:14,780 [DEBUG] 已创建新的接收方通话对话框
2025-05-25 20:13:14,875 [DEBUG] 开始音频播放...
2025-05-25 20:13:14,918 [DEBUG] 开始录音...
2025-05-25 20:13:16,028 [DEBUG] 用户选择的音频设备: {'input': 2, 'output': 3}
2025-05-25 20:13:16,035 [DEBUG] 已创建通话对话框(主叫方)
2025-05-25 20:13:18,139 [DEBUG] 发送UDP音频数据: 包 #50, 2048 字节，到: ('210.30.192.180', 63288)
2025-05-25 20:13:21,339 [DEBUG] 录制到音频数据: 包 #100, 2048 字节
2025-05-25 20:13:21,340 [DEBUG] 发送UDP音频数据: 包 #100, 2048 字节，到: ('210.30.192.180', 63288)
2025-05-25 20:13:24,539 [DEBUG] 发送UDP音频数据: 包 #150, 2048 字节，到: ('210.30.192.180', 63288)
2025-05-25 20:13:27,739 [DEBUG] 录制到音频数据: 包 #200, 2048 字节
2025-05-25 20:13:27,740 [DEBUG] 发送UDP音频数据: 包 #200, 2048 字节，到: ('210.30.192.180', 63288)
2025-05-25 20:13:30,938 [DEBUG] 发送UDP音频数据: 包 #250, 2048 字节，到: ('210.30.192.180', 63288)
2025-05-25 20:13:34,138 [DEBUG] 录制到音频数据: 包 #300, 2048 字节
2025-05-25 20:13:34,139 [DEBUG] 发送UDP音频数据: 包 #300, 2048 字节，到: ('210.30.192.180', 63288)
2025-05-25 20:13:37,338 [DEBUG] 发送UDP音频数据: 包 #350, 2048 字节，到: ('210.30.192.180', 63288)
2025-05-25 20:13:39,793 [DEBUG] 结束通话
