2025-05-17 20:41:28,142 [DEBUG] 初始化主窗口: 用户=why
2025-05-17 20:41:28,142 [DEBUG] 创建客户端线程
2025-05-17 20:41:28,143 [DEBUG] 客户端线程初始化
2025-05-17 20:41:28,143 [DEBUG] 开始初始化UDP音频服务
2025-05-17 20:41:28,143 [DEBUG] 分配随机UDP端口: 47640
2025-05-17 20:41:28,143 [DEBUG] 客户端线程开始运行
2025-05-17 20:41:28,144 [DEBUG] 尝试绑定UDP端口: 47640
2025-05-17 20:41:28,144 [DEBUG] UDP端口绑定成功: 47640
2025-05-17 20:41:28,144 [DEBUG] 创建UDP音频线程，端口: 47640
2025-05-17 20:41:28,144 [DEBUG] UDP音频线程绑定到端口: 47640
2025-05-17 20:41:28,145 [DEBUG] UDP音频线程启动成功
2025-05-17 20:41:28,145 [DEBUG] 发送UDP端口更新消息: UDP_PORT_UPDATE|why|47640
2025-05-17 20:41:28,145 [DEBUG] UDP音频服务初始化完成，端口: 47640
2025-05-17 20:41:28,168 [DEBUG] 初始化UI
2025-05-17 20:41:28,171 [DEBUG] 初始刷新好友和群组列表
2025-05-17 20:41:28,171 [DEBUG] 主窗口初始化完成，用户: why, UDP端口: 47640
2025-05-17 20:41:28,217 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:online
2025-05-17 20:41:28,218 [DEBUG] 处理收到的消息: GROUP_LIST|1:first_grop|2:second_grop|3:third_grop|4:4
2025-05-17 20:41:29,707 [DEBUG] 处理收到的消息: PRIVATE_HISTORY|gty|1|why|2|gty|[EMOJI]gif4.gif|gty|[EMOJI]image_emoticon31.png|gty|[EMOJI]image_emoticon6.png
2025-05-17 20:41:29,719 [DEBUG] 处理收到的消息: FILE_LIST|
2025-05-17 20:41:31,818 [DEBUG] 尝试发起语音通话
2025-05-17 20:41:31,818 [DEBUG] 发起语音通话请求：why -> gty
2025-05-17 20:41:31,819 [DEBUG] 准备发送通话请求: CALL_REQUEST|why|gty|47640
2025-05-17 20:41:31,819 [DEBUG] 已发送CALL_REQUEST消息，本地UDP端口: 47640
2025-05-17 20:41:33,324 [DEBUG] 处理收到的消息: CALL_RESPONSE|SENDING|gty
2025-05-17 20:41:33,325 [DEBUG] 服务器确认正在向 gty 发送通话请求
2025-05-17 20:41:35,461 [DEBUG] 处理收到的消息: CALL_ACCEPTED|gty|172.18.204.180|60928
2025-05-17 20:41:35,462 [ERROR] 地址信息格式错误: 172.18.204.180
2025-05-17 20:41:35,961 [DEBUG] 处理收到的消息: CALL_ACCEPTED|gty|172.18.204.180|60928
2025-05-17 20:41:35,962 [ERROR] 地址信息格式错误: 172.18.204.180
2025-05-17 20:41:36,462 [DEBUG] 处理收到的消息: CALL_ACCEPTED|gty|172.18.204.180|60928
2025-05-17 20:41:36,462 [ERROR] 地址信息格式错误: 172.18.204.180
2025-05-17 20:41:52,047 [DEBUG] 已创建通话对话框(主叫方)
2025-05-17 20:42:22,693 [DEBUG] 处理收到的消息: CALL_ENDED|gty
2025-05-17 20:42:24,401 [DEBUG] 处理收到的消息: FRIEND_OFFLINE|gty
2025-05-17 20:43:01,486 [DEBUG] 处理收到的消息: FRIEND_ONLINE|why_1
2025-05-17 20:43:23,283 [DEBUG] 处理收到的消息: CALL_INCOMING|why_1
2025-05-17 20:43:23,284 [DEBUG] ======= CALL_INCOMING详细调试信息 =======
2025-05-17 20:43:23,284 [DEBUG] 收到CALL_INCOMING消息: CALL_INCOMING|why_1
2025-05-17 20:43:23,284 [DEBUG] 来电者: why_1
2025-05-17 20:43:23,284 [DEBUG] 当前用户: why
2025-05-17 20:43:23,284 [DEBUG] 当前通话状态: in_call=False, call_target=None
2025-05-17 20:43:23,284 [DEBUG] 当前窗口状态: visible=True, active=False
2025-05-17 20:43:23,285 [DEBUG] 添加来电到待处理队列: why_1
2025-05-17 20:43:23,285 [DEBUG] CALL_INCOMING已添加到待处理队列
2025-05-17 20:43:23,285 [DEBUG] ======= CALL_INCOMING详细调试信息结束 =======
2025-05-17 20:43:23,386 [DEBUG] 从待处理队列中处理来电: why_1
2025-05-17 20:43:23,408 [DEBUG] 已显示通知窗口并从队列中移除: why_1
2025-05-17 20:43:23,784 [DEBUG] 处理收到的消息: CALL_INCOMING|why_1
2025-05-17 20:43:23,784 [DEBUG] ======= CALL_INCOMING详细调试信息 =======
2025-05-17 20:43:23,784 [DEBUG] 收到CALL_INCOMING消息: CALL_INCOMING|why_1
2025-05-17 20:43:23,784 [DEBUG] 来电者: why_1
2025-05-17 20:43:23,784 [DEBUG] 当前用户: why
2025-05-17 20:43:23,784 [DEBUG] 当前通话状态: in_call=False, call_target=None
2025-05-17 20:43:23,785 [DEBUG] 当前窗口状态: visible=True, active=False
2025-05-17 20:43:23,785 [DEBUG] 添加来电到待处理队列: why_1
2025-05-17 20:43:23,785 [DEBUG] CALL_INCOMING已添加到待处理队列
2025-05-17 20:43:23,785 [DEBUG] ======= CALL_INCOMING详细调试信息结束 =======
2025-05-17 20:43:23,886 [DEBUG] 从待处理队列中处理来电: why_1
2025-05-17 20:43:23,902 [DEBUG] 已显示通知窗口并从队列中移除: why_1
2025-05-17 20:43:24,285 [DEBUG] 处理收到的消息: CALL_INCOMING|why_1
2025-05-17 20:43:24,285 [DEBUG] ======= CALL_INCOMING详细调试信息 =======
2025-05-17 20:43:24,285 [DEBUG] 收到CALL_INCOMING消息: CALL_INCOMING|why_1
2025-05-17 20:43:24,286 [DEBUG] 来电者: why_1
2025-05-17 20:43:24,286 [DEBUG] 当前用户: why
2025-05-17 20:43:24,286 [DEBUG] 当前通话状态: in_call=False, call_target=None
2025-05-17 20:43:24,286 [DEBUG] 当前窗口状态: visible=True, active=False
2025-05-17 20:43:24,286 [DEBUG] 添加来电到待处理队列: why_1
2025-05-17 20:43:24,286 [DEBUG] CALL_INCOMING已添加到待处理队列
2025-05-17 20:43:24,286 [DEBUG] ======= CALL_INCOMING详细调试信息结束 =======
2025-05-17 20:43:24,387 [DEBUG] 从待处理队列中处理来电: why_1
2025-05-17 20:43:24,406 [DEBUG] 已显示通知窗口并从队列中移除: why_1
2025-05-17 20:43:25,638 [DEBUG] 接受来电：why_1
2025-05-17 20:43:25,639 [DEBUG] 准备发送CALL_ACCEPT: b'CALL_ACCEPT|why|why_1|47640'
2025-05-17 20:43:25,639 [DEBUG] 已发送CALL_ACCEPT消息，本地UDP端口: 47640
2025-05-17 20:43:28,997 [DEBUG] 开始通话: is_caller=False, target_addr=None
2025-05-17 20:43:28,997 [DEBUG] 初始化音频播放器: output_device_index=2
2025-05-17 20:43:28,997 [DEBUG] 音频播放器已启动
2025-05-17 20:43:28,997 [WARNING] 没有目标地址，无法启动音频录制器
2025-05-17 20:43:28,997 [DEBUG] 使用输出设备: Microsoft 声音映射器 - Output
2025-05-17 20:43:28,998 [DEBUG] 设备信息: {'index': 2, 'structVersion': 2, 'name': 'Microsoft 声音映射器 - Output', 'hostApi': 0, 'maxInputChannels': 0, 'maxOutputChannels': 2, 'defaultLowInputLatency': 0.09, 'defaultLowOutputLatency': 0.09, 'defaultHighInputLatency': 0.18, 'defaultHighOutputLatency': 0.18, 'defaultSampleRate': 44100.0}
2025-05-17 20:43:29,005 [DEBUG] 已创建通话对话框(被叫方)
2025-05-17 20:43:29,102 [DEBUG] 开始音频播放...
