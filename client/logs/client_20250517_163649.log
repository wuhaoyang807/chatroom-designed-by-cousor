2025-05-17 16:36:56,386 [DEBUG] 初始化主窗口: 用户=why
2025-05-17 16:36:56,387 [DEBUG] 创建客户端线程
2025-05-17 16:36:56,387 [DEBUG] 客户端线程初始化
2025-05-17 16:36:56,388 [DEBUG] 开始初始化UDP音频服务
2025-05-17 16:36:56,388 [DEBUG] 分配随机UDP端口: 54523
2025-05-17 16:36:56,388 [DEBUG] 客户端线程开始运行
2025-05-17 16:36:56,389 [DEBUG] 尝试绑定UDP端口: 54523
2025-05-17 16:36:56,390 [DEBUG] UDP端口绑定成功: 54523
2025-05-17 16:36:56,391 [DEBUG] 创建UDP音频线程，端口: 54523
2025-05-17 16:36:56,391 [DEBUG] UDP音频线程启动成功
2025-05-17 16:36:56,392 [DEBUG] 发送UDP端口更新消息: UDP_PORT_UPDATE|why|54523
2025-05-17 16:36:56,403 [DEBUG] UDP音频服务初始化完成，端口: 54523
2025-05-17 16:36:56,455 [DEBUG] 初始化UI
2025-05-17 16:36:56,465 [DEBUG] 初始刷新好友和群组列表
2025-05-17 16:36:56,467 [DEBUG] 主窗口初始化完成，用户: why, UDP端口: 54523
2025-05-17 16:36:56,549 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline
2025-05-17 16:36:56,550 [DEBUG] 处理收到的消息: GROUP_LIST|1:first_grop|2:second_grop|3:third_grop|4:4
2025-05-17 16:36:58,527 [DEBUG] 处理收到的消息: PRIVATE_HISTORY|why_1|1|why_1|[EMOJI]smart.png|why_1|[EMOJI]gif4.gif|why_1|[EMOJI]gif4.gif|why_1|[EMOJI]smart.png|why_1|[EMOJI]facepalm.png|why_1|[EMOJI]gif4.gif|why|1|why_1|[EMOJI]smirk.png|why|1|why_1|2|why_1|[EMOJI]smirk.png|why_1|[EMOJI]gif4.gif|why_1|[EMOJI]gif4.gif|why|[EMOJI]smart.png|why|[EMOJI]image_emoticon6.png|why|[EMOJI]image_emoticon6.png|why|[EMOJI]gif4.gif|why_1|[EMOJI]image_emoticon19.png|why|[EMOJI]gif4.gif|why_1|[EMOJI]image_emoticon31.png|why_1|诶呀|why_1|弄得差不多了|why|但是文件还不能下载，语音也打不通
2025-05-17 16:36:58,584 [DEBUG] 处理收到的消息: FILE_LIST|ConFuzzius_A_Data_Dependency-Aware_Hybrid_Fuzzer_for_Smart_Contracts.pdf|cxk.png|readme.md|sFuzz_An_Efficient_Adaptive_Fuzzer_for_Solidity_Smart_Contracts.pdf|xijin.png|下载测试.txt
2025-05-17 16:37:22,535 [DEBUG] 处理收到的消息: FILE_DATA|cxk.png|115707
2025-05-17 16:37:32,536 [ERROR] 处理消息时出错: timed out, 消息内容: FILE_DATA|cxk.png|115707
Traceback (most recent call last):
  File "D:\OneDrive\Desktop\cursor_try_chat_app\client\main.py", line 1974, in download_private_file
    chunk = self.sock.recv(4096)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\OneDrive\Desktop\cursor_try_chat_app\client\main.py", line 1533, in on_message
    chunk = self.sock.recv(min(4096, filesize - len(filedata)))
socket.timeout: timed out
2025-05-17 16:37:53,813 [DEBUG] 处理收到的消息: ERROR|Unknown command.
2025-05-17 16:38:09,708 [DEBUG] 处理收到的消息: FRIEND_ONLINE|why_1
2025-05-17 16:38:16,502 [DEBUG] 尝试发起语音通话
2025-05-17 16:38:16,502 [DEBUG] 发起语音通话请求：why -> why_1
2025-05-17 16:38:16,502 [DEBUG] 准备发送通话请求: CALL_REQUEST|why|why_1|54523
2025-05-17 16:38:16,503 [DEBUG] 已发送CALL_REQUEST消息，本地UDP端口: 54523
2025-05-17 16:38:16,526 [DEBUG] 已创建通话对话框(主叫方)
2025-05-17 16:38:18,005 [DEBUG] 处理收到的消息: CALL_RESPONSE|SENDING|why_1
2025-05-17 16:38:18,005 [DEBUG] 服务器确认正在向 why_1 发送通话请求
2025-05-17 16:39:58,079 [DEBUG] 停止客户端线程
2025-05-17 16:39:58,080 [WARNING] 服务器连接断开
2025-05-17 16:39:58,081 [DEBUG] 客户端线程结束
