2025-05-25 19:45:02,452 [DEBUG] 服务器地址 127.0.0.1 解析成功
2025-05-25 19:45:02,464 [DEBUG] 成功连接到服务器 127.0.0.1:12345
2025-05-25 19:45:02,464 [DEBUG] 服务器地址 127.0.0.1 解析成功
2025-05-25 19:45:02,476 [DEBUG] 成功连接到服务器 127.0.0.1:12345
2025-05-25 19:45:07,712 [DEBUG] 初始化主窗口: 用户=why
2025-05-25 19:45:07,712 [DEBUG] 创建客户端线程
2025-05-25 19:45:07,712 [DEBUG] 客户端线程初始化
2025-05-25 19:45:07,713 [DEBUG] 开始初始化UDP音频服务
2025-05-25 19:45:07,713 [DEBUG] 分配随机UDP端口: 40543
2025-05-25 19:45:07,713 [DEBUG] 客户端线程开始运行
2025-05-25 19:45:07,713 [DEBUG] 尝试绑定UDP端口: 40543
2025-05-25 19:45:07,723 [DEBUG] UDP端口绑定成功: 40543
2025-05-25 19:45:07,723 [DEBUG] 创建UDP音频线程，端口: 40543
2025-05-25 19:45:07,723 [DEBUG] UDP音频线程绑定到端口: 40543
2025-05-25 19:45:07,723 [DEBUG] UDP音频线程启动成功
2025-05-25 19:45:07,724 [DEBUG] 发送UDP端口更新消息: UDP_PORT_UPDATE|why|40543
2025-05-25 19:45:07,724 [DEBUG] UDP音频服务初始化完成，端口: 40543
2025-05-25 19:45:07,741 [DEBUG] 初始化UI
2025-05-25 19:45:07,745 [DEBUG] 初始刷新好友和群组列表
2025-05-25 19:45:07,745 [DEBUG] 主窗口初始化完成，用户: why, UDP端口: 40543
2025-05-25 19:45:07,794 [DEBUG] 处理收到的消息: FRIEND_LIST|why_1:offline|gty:offline
2025-05-25 19:45:07,795 [DEBUG] 处理收到的消息: GROUP_LIST|1:first_grop|2:second_grop|3:third_grop|4:4|5:5
2025-05-25 19:46:12,100 [DEBUG] 处理收到的消息: FRIEND_ONLINE|why_1
2025-05-25 19:46:17,023 [DEBUG] 处理收到的消息: CALL_INCOMING|why_1
2025-05-25 19:46:17,023 [DEBUG] ======= CALL_INCOMING详细调试信息 =======
2025-05-25 19:46:17,024 [DEBUG] 收到CALL_INCOMING消息: CALL_INCOMING|why_1
2025-05-25 19:46:17,024 [DEBUG] 来电者: why_1
2025-05-25 19:46:17,024 [DEBUG] 当前用户: why
2025-05-25 19:46:17,025 [DEBUG] 当前通话状态: in_call=False, call_target=None
2025-05-25 19:46:17,025 [DEBUG] 当前窗口状态: visible=True, active=True
2025-05-25 19:46:17,025 [DEBUG] 添加来电到待处理队列: why_1
2025-05-25 19:46:17,025 [DEBUG] CALL_INCOMING已添加到待处理队列
2025-05-25 19:46:17,025 [DEBUG] ======= CALL_INCOMING详细调试信息结束 =======
2025-05-25 19:46:17,125 [DEBUG] 从待处理队列中处理来电: why_1
2025-05-25 19:46:17,162 [DEBUG] 已显示通知窗口并从队列中移除: why_1
2025-05-25 19:46:17,523 [DEBUG] 处理收到的消息: CALL_INCOMING|why_1
2025-05-25 19:46:17,523 [DEBUG] ======= CALL_INCOMING详细调试信息 =======
2025-05-25 19:46:17,523 [DEBUG] 收到CALL_INCOMING消息: CALL_INCOMING|why_1
2025-05-25 19:46:17,523 [DEBUG] 来电者: why_1
2025-05-25 19:46:17,524 [DEBUG] 当前用户: why
2025-05-25 19:46:17,524 [DEBUG] 当前通话状态: in_call=False, call_target=None
2025-05-25 19:46:17,524 [DEBUG] 当前窗口状态: visible=True, active=False
2025-05-25 19:46:17,524 [DEBUG] 添加来电到待处理队列: why_1
2025-05-25 19:46:17,524 [DEBUG] CALL_INCOMING已添加到待处理队列
2025-05-25 19:46:17,524 [DEBUG] ======= CALL_INCOMING详细调试信息结束 =======
2025-05-25 19:46:17,625 [DEBUG] 从待处理队列中处理来电: why_1
2025-05-25 19:46:17,647 [DEBUG] 已显示通知窗口并从队列中移除: why_1
2025-05-25 19:46:18,024 [DEBUG] 处理收到的消息: CALL_INCOMING|why_1
2025-05-25 19:46:18,024 [DEBUG] ======= CALL_INCOMING详细调试信息 =======
2025-05-25 19:46:18,024 [DEBUG] 收到CALL_INCOMING消息: CALL_INCOMING|why_1
2025-05-25 19:46:18,025 [DEBUG] 来电者: why_1
2025-05-25 19:46:18,025 [DEBUG] 当前用户: why
2025-05-25 19:46:18,025 [DEBUG] 当前通话状态: in_call=False, call_target=None
2025-05-25 19:46:18,025 [DEBUG] 当前窗口状态: visible=True, active=False
2025-05-25 19:46:18,025 [DEBUG] 添加来电到待处理队列: why_1
2025-05-25 19:46:18,025 [DEBUG] CALL_INCOMING已添加到待处理队列
2025-05-25 19:46:18,025 [DEBUG] ======= CALL_INCOMING详细调试信息结束 =======
2025-05-25 19:46:18,125 [DEBUG] 从待处理队列中处理来电: why_1
2025-05-25 19:46:18,141 [DEBUG] 已显示通知窗口并从队列中移除: why_1
2025-05-25 19:46:19,524 [DEBUG] 接受来电：why_1
2025-05-25 19:46:19,525 [DEBUG] 准备发送CALL_ACCEPT: b'CALL_ACCEPT|why|why_1|40543'
2025-05-25 19:46:19,525 [DEBUG] 已发送CALL_ACCEPT消息，本地UDP端口: 40543
2025-05-25 19:46:19,651 [DEBUG] 处理收到的消息: CALL_CONNECT_INFO|why_1|172.18.204.180|49497
2025-05-25 19:46:19,652 [DEBUG] 收到CALL_CONNECT_INFO: caller=why_1, ip=172.18.204.180, port=49497
2025-05-25 19:46:19,652 [DEBUG] 接收方获得发起方UDP地址: ('172.18.204.180', 49497)
2025-05-25 19:46:21,133 [DEBUG] 用户选择的音频设备: {'input': 0, 'output': 2}
2025-05-25 19:46:21,134 [DEBUG] 开始通话: is_caller=False, target_addr=('172.18.204.180', 49497)
2025-05-25 19:46:21,135 [DEBUG] 初始化音频播放器: output_device_index=2
2025-05-25 19:46:21,135 [DEBUG] 音频播放器已启动
2025-05-25 19:46:21,135 [DEBUG] 初始化音频录制器: input_device_index=0
2025-05-25 19:46:21,135 [DEBUG] 音频录制器已启动
2025-05-25 19:46:21,135 [DEBUG] 使用输入设备: Microsoft 声音映射器 - Input
2025-05-25 19:46:21,143 [DEBUG] 设备信息: {'index': 0, 'structVersion': 2, 'name': 'Microsoft 声音映射器 - Input', 'hostApi': 0, 'maxInputChannels': 2, 'maxOutputChannels': 0, 'defaultLowInputLatency': 0.09, 'defaultLowOutputLatency': 0.09, 'defaultHighInputLatency': 0.18, 'defaultHighOutputLatency': 0.18, 'defaultSampleRate': 44100.0}
2025-05-25 19:46:21,143 [DEBUG] 为接收方创建通话对话框
2025-05-25 19:46:21,143 [DEBUG] 使用输出设备: Microsoft 声音映射器 - Output
2025-05-25 19:46:21,144 [DEBUG] 设备信息: {'index': 2, 'structVersion': 2, 'name': 'Microsoft 声音映射器 - Output', 'hostApi': 0, 'maxInputChannels': 0, 'maxOutputChannels': 2, 'defaultLowInputLatency': 0.09, 'defaultLowOutputLatency': 0.09, 'defaultHighInputLatency': 0.18, 'defaultHighOutputLatency': 0.18, 'defaultSampleRate': 44100.0}
2025-05-25 19:46:21,196 [DEBUG] 开始录音...
2025-05-25 19:46:21,271 [DEBUG] 开始音频播放...
2025-05-25 19:46:22,709 [DEBUG] 用户选择的音频设备: {'input': 0, 'output': 2}
2025-05-25 19:46:22,715 [DEBUG] 已创建通话对话框(被叫方)，等待连接信息...
2025-05-25 19:46:24,486 [DEBUG] 发送UDP音频数据: 包 #50, 2048 字节，到: ('172.18.204.180', 49497)
2025-05-25 19:46:27,685 [DEBUG] 录制到音频数据: 包 #100, 2048 字节
2025-05-25 19:46:27,686 [DEBUG] 发送UDP音频数据: 包 #100, 2048 字节，到: ('172.18.204.180', 49497)
2025-05-25 19:46:30,885 [DEBUG] 发送UDP音频数据: 包 #150, 2048 字节，到: ('172.18.204.180', 49497)
2025-05-25 19:46:33,401 [DEBUG] 结束通话
